### 　**📚 ブロックチェーン入門**

さて、まずローカル環境のイーサリアムネットワークを用意する必要があります。

Web アプリで作業するには、ローカル環境をどのように起動する必要があるでしょうか？

今のところ、知っておく必要があるのは、スマートコントラクトはブロックチェーン上に存在するコードの一部であるということだけです。

ブロックチェーンは、誰でも安全にデータを有料で読み書きできる公共の場所です。

誰も実際に所有していないことを除けば、AWSのようなものだと考えてください。

ブロックチェーンは「マイナー」として知られている何千人もの匿名の人々によって運営されています。

<br>

ここでの全体像は次のとおりです。

1-**スマートコントラクトを作成します**。
そのコントラクトには、ドメインに関するすべてのロジックが含まれています。

2-**これから作るスマートコントラクトはブロックチェーン上にデプロイされます**。

&nbsp; 世界中の誰もがあなたのスマートコントラクトにアクセスしてドメインをミントすることができるようになります。

3-**ドメインを簡単に作成できるWebサイトを構築します。**

<br/>

### **⚙️**ローカルツールをセットアップする

スマートコントラクトをすばやくコンパイルし、ローカル環境でテストするために、**Hardhat** というツールを使用します。

- Hardhat により、ローカル環境でイーサリアムネットワークを簡単に起動し、テストネットでイーサリアムを利用できます。
- サーバーがブロックチェーンであることを除けば、Hardhat はローカルサーバーと同じです。

まず、`node` / `npm` を取得する必要があります。お持ちでない場合は、[こちら](https://hardhat.org/tutorial/setting-up-the-environment.html) にアクセスし、`node v16` をインストールしてください。

- 使用するバージョンは `16` です。

次に、ターミナルに向かいましょう。

作業したいディレクトリに移動したら、次のコマンドを実行します。


`mkdir`で作業ディレクトリを作成し`cd`で移動します。移動できたら`npm`で次のようにコマンドを実行します。

```bash
mkdir cool-domains
cd cool-domains
npm init -y
npm install --save-dev hardhat
```

最後のコマンドを実行して Hardhat をインストールすると、脆弱性に関するメッセージが表示される場合があります。

NPM から何かをインストールするたびに、インストールしているライブラリに脆弱性が報告されているかどうかを確認するためにセキュリティチェックが行われます。

これは警告のようなものです。

`npx audit fix`を実行すると問題が発生する可能性があるため、スキップすることをお勧めします。

スキップしてもここでは特に問題は発生しません。

詳細を知りたい場合は、これらの脆弱性について少しグーグルで調べてみてもいいかもしれませんね。

### 🪄 サンプルプロジェクト

さぁ hardhat を準備してサンプルプロジェクトを始めましょう。

```bash
npx hardhat
```

“Create a basic sample project” オプションを選択します。 すべてに yes で答えてください。

サンプルプロジェクトでは、`hardhat-waffle`と`hardhat-ethers`をインストールするように求められます。

これらは後で使用する他のツールです。

自動的に実行されなかった場合に備えてインストールしておきます。

```bash
npm install --save-dev @nomiclabs/hardhat-waffle ethereum-waffle chai @nomiclabs/hardhat-ethers ethers
```

また、安全なスマートコントラクトを開発するために多く使用されている別のライブラリである**OpenZeppelin**をインストールします。

これについては後で詳しく説明します。

ここではインストールするだけで結構です。

```bash
npm install @openzeppelin/contracts
```

最後に、 `npx hardhat accounts`を実行すると、次のような文字列が**複数**出力されます。

`0xa0Ee7A142d267C1f36714E4a8F75612F20a79720`


これは、Hardhat がブロックチェーン上の実際のユーザーをシミュレートするために生成する Ethereum アドレスです。

プロジェクトの後半で、ドメインを作成するユーザーをシミュレートするときに使います。

### **🌟 実行しましょう**

さてhardhatが問題なく動作するか確認しましょう。

```bash
 npx hardhat compile
```

その後、

```bash
npx hardhat test
```

を実行します。

次のような画面が表示されるはずです。

![https://i.imgur.com/rjPvls0.png](https://i.imgur.com/rjPvls0.png)


少しディレクトリを整理しましょう。

お気に入りのコードエディタでプロジェクトのディレクトリを開きます。

VSCode が使いやすいかと思います。

スターターコードを削除したいと思います。ここでは特に必要ありません。

先に進み、`test`の下にあるファイル`sample-test.js`を削除します。

また、`scripts`の下の`sample-script.js`を削除します。

次に、`contracts`の下にある`Greeter.sol`を削除します。

実際の**フォルダは削除しないで**ください。

<br/>

### 🙋‍♂️ 質問する

ここまでの作業で何かわからないことがある場合は、Discord の `#section-1` で質問をしてください。

ヘルプをするときのフローが円滑になるので、エラーレポートには下記の 3 点を記載してください ✨

```
1. 質問が関連しているセクション番号とレッスン番号
2. 何をしようとしていたか
3. エラー文をコピー&ペースト
4. エラー画面のスクリーンショット
```

---

以上の環境設定が完了したら、次のレッスンに進んでください 🎉
